/*
*  @name      Miniature Hipster
*  @version   0.0.32b
*  @author    Rob Friedman <px@ns1.net>
*  @url       <http://playerx.net>
*  @license   //github.com/px/cfapp-piwik-analytics/raw/master/LICENSE.txt
*/
CloudFlare.define("piwik_analytics/perf",["cloudflare/console"],function(__console){var e,i,r;return i={},e={},e.now=function(){return(new Date).getTime()},r=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||e,i.now=function(){var i;try{return r.now()}catch(t){return i=t,__console.error(i),e.now()}},i.perfThen=i.now(),i}),CloudFlare.define("piwik_analytics/setup",["cloudflare/console","piwik_analytics/config","piwik_analytics/perf"],function(__console,e,i){var r,t,o,a;if(t={},t.perfThen=i.now(),o={_debug:!1,default_debug:!0,piwik_install:"/piwik",default_piwik_install:"/piwik",site_id:"",default_piwik_site_id:1,paq_push:"",tracking_all_subdomains:!0,tracking_do_not_track:!1},void 0===e&&(e=o),"js.cloudflare.com"===window.document.location.hostname&&(__console.error("js.cloudflare.com sandbox DETECTED! Using developer testing config."),a=o,a._debug="true",a.piwik_install="",a.default_piwik_install="//piwik-ssl.ns1.net",a.site_id="invalid",a.default_piwik_site_id="28",a.paq_push='[ function() { return window.console.log("getVisitorId="+this.getVisitorId()); } ]',a.tracking_group_by_domain="document.domain + '/' + document.title",a.tracking_all_aliases='["*.piwik.example.com","*.p-ssl.example.com","*.p.example.com","*.piwik-ssl.example.com"]',e=a),window._paq=window._paq||[],t.setDefault=function(e,i,r){var t;try{return(void 0===e||""===e)&&(__console.error("Invalid "+r+' = "'+e+'", using default '+r+' = "'+i+'" '),e=i),e}catch(o){return t=o,e=i,__console.error(t),e}},t._debug=e._debug,t.default_piwik_site_id=e.default_piwik_site_id,t.default_piwik_install=e.default_piwik_install,t.site_id=e.site_id,t.piwik_install=e.piwik_install,t.paq_push=e.paq_push,t.tracking_group_by_domain=e.tracking_group_by_domain,t.tracking_all_aliases=e.tracking_all_aliases,null!==t._debug){CloudFlare.push({verbose:1}),window.localStorage.clear();try{__console.log(i.now()-t.perfThen+" ms"+"	 piwik_analytics/setup execution time")}catch(n){r=n,__console.error("uhoh "+r)}}return t}),CloudFlare.define("piwik_analytics/tracker",["cloudflare/console","piwik_analytics/setup","piwik_analytics/perf"],function(__console,e,i){var r,t;t={},t.perfThen=i.now(),t._debug=e._debug,t.isPiwik=!1,t.setSiteId=function(i){return e.setDefault(i,e.default_piwik_site_id,"WebsiteId"),!isNaN(i)&&i>=1?null!==t._debug&&__console.log("tracker.setSiteId	 = "+i):(null!==t._debug&&__console.error("tracker.setSiteId Invalid WebsiteId = '"+i+"' is not a number; defaulting to '"+e.default_piwik_site_id+"'"),i=e.default_piwik_site_id),window._paq.push(["setSiteId",unescape(i)]),i},t.setTracker=function(r){return r=e.setDefault(r,e.default_piwik_install,"Install"),null!==t._debug&&__console.log('tracker.setTracker	 = "'+unescape(r)+'"'),window._paq.push(["setTrackerUrl",unescape(r+"/piwik.php")]),t.perfThenJs=i.now(),CloudFlare.require([unescape(r+"/piwik.js")],t.isPiwik=!0),r},t.piwik_install=t.setTracker(e.piwik_install);try{t.site_id=t.setSiteId(e.site_id)}catch(o){r=o,__console.error("uhoh "+r)}if(null!==t._debug){CloudFlare.push({verbose:1}),window.localStorage.clear();try{__console.log(i.now()-t.perfThen+" ms"+"	 piwik_analytics/tracker execution time")}catch(o){r=o,__console.error("uhoh "+r)}}return t}),CloudFlare.define("piwik_analytics",["cloudflare/console","piwik_analytics/perf","piwik_analytics/setup","piwik_analytics/tracker"],function(__console,__perf,__setup,__tracker){var e,myPiwik;myPiwik={},myPiwik.perfThen=__perf.now(),window._paq=window._paq||[],myPiwik.getVisitorId=function(){var e;return e=!1,window._paq.push([function(){return e=this.getVisitorId(),null!==__setup._debug&&__console.log("Piwik.getVisitorId = "+e),e}]),e},myPiwik.menuOpts=function(){var e,wildcardZone;if("true"===__setup.tracking_all_subdomains||void 0===__setup.tracking_all_subdomains)try{wildcardZone="*"+document.domain.split(".").slice(-2).join("."),window._paq.push(["setCookieDomain",wildcardZone])}catch(_error){e=_error,__console.error("uhoh "+e)}if("true"===__setup.tracking_do_not_track||void 0===__setup.tracking_do_not_track?window._paq.push(["setDoNotTrack",!0]):window._paq.push(["setDoNotTrack",!1]),void 0!==__setup.tracking_group_by_domain&&""!==__setup.tracking_group_by_domain)try{window._paq.push(["setDocumentTitle",eval(unescape(__setup.tracking_group_by_domain))])}catch(_error){e=_error,__console.error("uhoh "+e)}if(void 0!==__setup.tracking_all_aliases&&""!==__setup.tracking_all_aliases)try{window._paq.push(["setDomains",eval(unescape(__setup.tracking_all_aliases))])}catch(_error){e=_error,__console.error("uhoh "+e)}if(void 0!==__setup.paq_push&&""!==__setup.paq_push)try{window._paq.push(eval(unescape(__setup.paq_push)))}catch(_error){e=_error,__console.error("uhoh "+e)}return window._paq},myPiwik.paqPush=function(){return window._paq.push(["enableLinkTracking",!0]),window._paq.push(["trackPageView"]),window._paq};try{myPiwik.menuOpts()}catch(_error){e=_error,__console.error("uhoh "+e)}try{myPiwik.paqPush()}catch(_error){e=_error,__console.error("uhoh "+e)}if(null!==__setup._debug){__console.log(__perf.now()-myPiwik.perfThen+" ms"+"	 piwik_ananlytics Factory execution time"),CloudFlare.require(["piwik_analytics/showPerf"]);try{myPiwik.getVisitorId()}catch(_error){e=_error,__console.error("uhoh "+e)}}return myPiwik}),CloudFlare.define("piwik_analytics/showPerf",["cloudflare/console","piwik_analytics/setup","piwik_analytics/perf","piwik_analytics/tracker"],function(__console,e,i,r){var t;return t={},t.perfThen=i.now(),t._debug=e._debug,t.showPerf=function(){return window._paq.push([function(){var e;try{__console.log(i.now()-r.perfThenJs+" ms"+"	 Piwik library fetch/execute time")}catch(t){e=t,__console.error("uhoh "+e)}try{__console.log(i.now()-i.perfThen+" ms"+"	 Total execution time")}catch(t){e=t,__console.error("uhoh "+e)}return!0}]),!0},null!==t._debug&&(t.showPerf(),__console.log(i.now()-t.perfThen+" ms"+"	 piwik_analytics/showPerf Factory execution time")),t});