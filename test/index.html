<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Testing piwik_analytics cfapp</title>
    <style>

      a:link    {color:blue;}
      a:visited {color:blue;}
      a:hover   {color:red;}
      a:active  {color:yellow;} 

    </style>
    <script type="text/javascript"> var CloudFlare = CloudFlare || []; </script>

    <script type="text/javascript">
      //<![CDATA[
    window.__CF=window.__CF||{};window.__CF.AJS={"abetterbrowser":{"ie":"9"},"cdnjs":{"__h":"1","cdnjs":"MO,GF"},"ga_key":{"ua":"UA-37963393-1","ga_bs":"2"},"piwik_analytics":{"site_id":"28","use_cdnjs":"true","link_tracking":"true","piwik_tracker":"\/\/piwik-ssl.ns1.net\/","piwik_js_default":null,"set_obey_do_not_track":"true"}};
//]]>
</script>
<script type="text/javascript">
  //<![CDATA[
try{if (!window.CloudFlare) { var CloudFlare=[{verbose:0,p:1359172997,byc:0,owlid:"cf",mirage:{responsive:0,lazy:0},oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/abv=1870252173/"},atok:"943944a21a180a1ff34203247f6bf4f9",zone:"variablesoftware.com",rocket:"0",apps:{"abetterbrowser":{"ie":"9"},"cdnjs":{"__h":"1","cdnjs":"MO,GF"},"ga_key":{"ua":"UA-37963393-1","ga_bs":"2"},"piwik_analytics":{"site_id":"28","use_cdnjs":"true","link_tracking":"true","piwik_tracker":"\/\/piwik-ssl.ns1.net\/","piwik_js_default":null,"set_obey_do_not_track":"true"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/abv=4114775854/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>

<script type="text/javascript" src="https://ajax.cloudflare.com/cdn-cgi/nexp/cloudflare.js"></script>
<!-- load up our test config for local testing -->
<script type="text/javascript" src="../public/javascripts/piwik_analytics/config.js"></script>

<script type="text/javascript">
  /* just use a, it's smaller */ 
var a=window.CloudFlare;
/* push this local path for use in loading the the app/module   */ 
a.push({paths:{piwik_analytics:"../public/javascripts/"}});
/* force load our piwikConfig associative array  */
/* load the piwik_analytics module */
a.push(function(b,c){ c("piwik_analytics/config",function(){ return piwikConfig }); b(["piwik_analytics"]); });


a.push(function(b){ b(["piwik_analytics"]); });
</script>


<!-- The goal is to load piwik.js as it would below. Also to utilize the global window._paq array to push commands onto for setting or retrieving information from Piwik:w
. -->
<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/piwik/1.10.1/piwik.js"></script>
-->

  </head>

  <body>
    <h1>Piwik Analytics CloudFlare Test App</h1>

    <div id="timeDiv">&nbsp;</div>

    <div id="testing.zone">

      <div id="testing.gets">
        <p>
        <strong>Testing Gets</strong>
        </p>
      </div>
      <ul>
        <li id="app_change">app_change</li>
      </ul>
      <div id="testing.config">
        <p>
        <strong>Testing configured options</strong>
        </p>
        <ul>
          <li id="site_id" > site_id </li>
          <li id="trackerURL"> trackerURL </li>
          <li id="paq_push"> paq_push </li>
          
          <li id="use_cdnjs"> use_cdnjs </li>
          <li id="js_url"> js_url </li>
          <li id="default_piwik_js"> default_piwik_js </li>

        </ul>
      </div>

      <div id="testing.links">
        <!-- convert to some other file of links to utilize between the other test files. -->
        <p>
        <strong>Testing Link Tracking</strong>
        </p>
        <ul>
          <li><a href="iframeTest.html">iframe buster test</a></li>
          <li><a href='#/no-tracking' target="_self" class='no-tracking'>Class 'no-tracking' No Tracking Test</a></li>
          <li><a href='https://github.com/px/cfapp-piwik-analytics/archive/master.zip' class='piwik_ignore'>File I don't want to track as a download</a> Latest master.zip </li>
          <li><a href='#/piwik_download' class='piwik_download'>Link I want to track as a download</a></li>
          <li><a href='#/piwik_link' target="_self" class='piwik_link'>Link I want to track as an outlink</a></li>
          <li><a href='example_piwik_ajax.html#/' target="_self" class='no-tracking'>Class 'no-tracking' example_piwik_ajax.html</a></li>
          <li><a href='#/' target="_self" class='no-tracking'>Class 'no-tracking' No Tracking Test</a></li>
          <li><a href="javascript:window.location.reload(true)">window.location.reload(true)</a></li>
        </ul>
      </div>


    </div>
    <!-- this loads up testApp which updates and refreshes above items from configuration when working properly. -->
    <script type="text/javascript" src="../public/javascripts/testApp.js"></script>

  </body>
</html>
