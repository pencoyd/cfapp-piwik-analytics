<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>Testing piwik_analytics cfapp</title>
    <style>

      a:link    {color:blue;}
      a:visited {color:blue;}
      a:hover   {color:red;}
      a:active  {color:yellow;} 

    </style>
    <script type="text/javascript">
      //<![CDATA[
      window.__CF=window.__CF||{};window.__CF.AJS={"piwik_analytics":{"_debug":"true","site_id":"28","paq_push":"[function() { return 0;}],[\"setHeartBeatTimer\",5,30]","piwik_install":"https:\/\/piwik-ssl.ns1.net","tracking_all_aliases":"[\"*.variablesoftware.com\",\"variablesoftware.com\"]","default_piwik_install":"https:\/\/piwik-ssl.ns1.net","default_piwik_site_id":null,"tracking_do_not_track":null,"tracking_all_subdomains":"true","tracking_group_by_domain":"document.domain + '\/' + document.title"},"ga_key":{"ua":"UA-37963393-1","ga_bs":"2"}};
      //]]>
    </script>
    <script type="text/javascript">
      //<![CDATA[
    //  try{if (!window.CloudFlare) { var CloudFlare=[{verbose:0,p:1368221365,byc:1,owlid:"cf",mirage:{responsive:0,lazy:0},oracle:0,paths:{cloudflare:"/cdn-cgi/nexp/abv=1065777907/"},atok:"3988bb898bada0c90dc22e2918c568bc",zone:"variablesoftware.com",rocket:"0",apps:{"piwik_analytics":{"_debug":"true","site_id":"28","paq_push":"[function() { return 0;}],[\"setHeartBeatTimer\",5,30]","piwik_install":"https:\/\/piwik-ssl.ns1.net","tracking_all_aliases":"[\"*.variablesoftware.com\",\"variablesoftware.com\"]","default_piwik_install":"https:\/\/piwik-ssl.ns1.net","default_piwik_site_id":null,"tracking_do_not_track":null,"tracking_all_subdomains":"true","tracking_group_by_domain":"document.domain + '\/' + document.title"},"ga_key":{"ua":"UA-37963393-1","ga_bs":"2"}}}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="//ajax.cloudflare.com/cdn-cgi/nexp/abv=2562784428/cloudflare.min.js";b.parentNode.insertBefore(a,b);}}catch(e){};
      //]]>
    </script>

<script type="text/javascript">
  //<![CDATA[
try{if (!window.CloudFlare) { var CloudFlare=[{verbose:1}];var a=document.createElement("script"),b=document.getElementsByTagName("script")[0];a.async=!0;a.src="https://ajax.cloudflare.com/cdn-cgi/nexp/cloudflare.js";b.parentNode.insertBefore(a,b);}}catch(e){};
//]]>
</script>


<script type="text/javascript">
  /* just use a, it's smaller */
var a=window.CloudFlare;
/* push this local path for use in loading the the app/module   */
a.push({paths:{piwik_analytics:"../public/javascripts/"}});
/* force load our piwikConfig associative array  */
/* load the piwik_analytics module, and pass the path for the config.js also  */
/* a.push(function(b,c){ c("piwik_analytics/config.js",function(){ return window.__piwikConfig }); b(["piwik_analyt    ics"]); });
 */
CloudFlare.push({verbose:1});
/*
   This is the quickest way I have found to load the piwik.js library and the piwik_analytics application which
   has the configuration on page. window.__CF.AJS.piwik_analytics
   */
a.push(function(b){ b(["piwik_analytics"]); });



</script>


<!-- The goal is to load piwik.js as it would below. Also to utilize the global window._paq array to push commands onto for setting or retrieving information from Piwik:w
. -->
<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/piwik/1.10.1/piwik.js"></script>
-->

</head>

<body>
  <h1>Piwik Analytics CloudFlare Test App</h1>


  <div id="testing.zone">

    <div id="timeDiv">&nbsp;</div>

    <div id="testing.gets">
      <p>
      <strong>Testing Gets</strong>
      </p>
    </div>

    <ul>
      <li id="app_change">app_change</li>
    </ul>
    <div id="testing.config">

      <p>
      <strong>Testing configured options</strong>
      </p>

      <ul>
        <li id="site_id" > site_id </li>
        <li id="trackerURL"> trackerURL </li>
        <li id="paq_push"> paq_push </li>

        <li id="use_cdnjs"> use_cdnjs </li>
        <li id="piwik_js"> piwik_js </li>
        <li id="default_piwik_js"> default_piwik_js </li>

        <li id="link_tracking"> link_tracking </li>
        <li id="set_obey_do_not_track"> set_obey_do_not_track </li>

      </ul>

    </div>

    <div id="testing.links">
    </div>


  </div>

  <!-- this loads up testApp which updates and refreshes above items from configuration when working properly. -->
  <script type="text/javascript" src="../public/javascripts/testApp.js"></script>

</body>
</html>
